엔티티 설계시 주의점

엔티티에는 가급적 Setter를 사용하지 말자
Setter가 모두 열려있다 변경 포인트가 너무 많아서 유지보수가 어렵다 나중에 리첵토링으로 SEtter를 제거하자

모든 연관관계는 지연로딩으로 설정
즉시로딩(EAGER)은 예측이 어렵고 어떤 SQL이ㅏ 실행될지 추적하기 어렵다 특히 JPQL을 실행할때ㅔ N+1문제가 자주 발생

실무에서 모든 연관관계는 지연로딩으로 설정해야한다.

컬랙션 필드에서 초기화하자

컬랙션은 필드에서 바로 초기화 하는 것이 안전하다
null 문제에서 안전하다
하이버 네이트는 엔티티를 영속화 할때 컬렉션을 감싸서 하이버네이트가 제고ㅓㅇ하는 내장 컬렉션으로 변경